{"version":3,"sources":["ImageGalleryItem/ImageGalleryItem.module.scss","Modal/Modal.module.scss","Button/Button.module.scss","ImageGallery/ImageGallery.module.scss","Searchbar/Searchbar.jsx","ImageGallery/ImageGallery.jsx","ImageGalleryItem/ImageGalleryItem.jsx","Modal/Modal.jsx","Button/Button.jsx","Loader/Loader.jsx","Api/Api.js","App.js","index.js","Searchbar/Searchbar.module.scss"],"names":["module","exports","Searchbar","state","name","onChange","e","value","currentTarget","setState","toLowerCase","handleOnSubmit","preventDefault","trim","props","onSubmit","reset","className","scss","SearchForm","this","type","SearchForm__button","SearchForm__btnlabel","autoComplete","autoFocus","placeholder","SearchForm__input","Component","ImageGallery","children","protoTypes","PropTypes","element","ImageGalleryItem","imgData","showModal","map","item","onClick","largeUrl","src","url","alt","ImageGalleryItem__image","id","modalRoot","document","querySelector","Modal","handleKeyDown","code","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","Button","btnContainer","Loader","isLoading","Spinner","as","animation","size","role","aria-hidden","api","fetchImages","currentPage","fetch","then","response","ok","json","App","img","error","fetchImg","obj","hits","webformatURL","largeImageURL","prevState","catch","toast","finally","scrollTo","top","documentElement","scrollHeight","behavior","length","onClickImg","onSearchSubmit","data","prevProps","shouldRenderLoadMore","position","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2d784454.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__JiS1n\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3Zra2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3K-7y\",\"Modal\":\"Modal_Modal__1pR8P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3gmu0\",\"btnContainer\":\"Button_btnContainer__Ijy_N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2SlAl\"};","import scss from './Searchbar.module.scss';\r\nimport { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    name: PropTypes.string,\r\n  };\r\n\r\n  state = {\r\n    name: '',\r\n  };\r\n\r\n  onChange = (e) => {\r\n    const { value } = e.currentTarget;\r\n    this.setState({\r\n      name: value.toLowerCase(),\r\n    });\r\n  };\r\n\r\n  handleOnSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.name.trim() === '') {\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state);\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({\r\n      name: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={scss.Searchbar}>\r\n        <form className={scss.SearchForm} onSubmit={this.handleOnSubmit}>\r\n          <button type='submit' className={scss.SearchForm__button}>\r\n            <span className={scss.SearchForm__btnlabel}></span>\r\n          </button>\r\n          <input\r\n            onChange={this.onChange}\r\n            value={this.state.name}\r\n            type='text'\r\n            autoComplete='off'\r\n            autoFocus\r\n            placeholder='Search images and photos'\r\n            className={scss.SearchForm__input}\r\n          ></input>\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import scss from './ImageGallery.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return <ul className={scss.ImageGallery}>{children}</ul>;\r\n};\r\n\r\nImageGallery.protoTypes = {\r\n  children: PropTypes.element,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import scss from './ImageGalleryItem.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ imgData, showModal, name }) => {\r\n  return (\r\n    <>\r\n      {imgData.map((item) => (\r\n        <li className={scss.ImageGalleryItem} key={item.id}>\r\n          <img\r\n            onClick={() => showModal(item.largeUrl)}\r\n            src={item.url}\r\n            alt={name}\r\n            className={scss.ImageGalleryItem__image}\r\n          />\r\n        </li>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  imgData: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      largeUrl: PropTypes.string.isRequired,\r\n      url: PropTypes.string.isRequired,\r\n    })\r\n  ),\r\n  showModal: PropTypes.func,\r\n  name: PropTypes.string,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import scss from './Modal.module.scss';\r\nimport { createPortal } from 'react-dom';\r\nimport { Component } from 'react';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === 'Escape') {\r\n      this.props.showModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.showModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={scss.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={scss.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import scss from './Button.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick, children }) => {\r\n  return (\r\n    <div className={scss.btnContainer}>\r\n      <button type='button' onClick={onClick} className={scss.Button}>\r\n        {children}\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n  children: PropTypes.element,\r\n};\r\n\r\nexport default Button;\r\n","import Spinner from 'react-bootstrap/Spinner';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Loader = ({ isLoading }) => (\r\n  <> {isLoading && <Spinner as='span' animation='border' size='sm' role='status' aria-hidden='true' />}</>\r\n);\r\n\r\nLoader.propTypes = {\r\n  isLoading: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Loader;\r\n","function fetchImages(name, currentPage) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${name}&page=${currentPage}&key=20626801-2d87cc5d65955ac685972c705&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchImages,\r\n};\r\n\r\nexport default api;\r\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport Modal from './Modal/Modal';\nimport Button from './Button/Button';\nimport Loader from './Loader/Loader';\n\nimport api from './Api/Api';\n\nclass App extends Component {\n  static propTypes = {\n    img: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        largeUrl: PropTypes.string.isRequired,\n        url: PropTypes.string.isRequired,\n      })\n    ),\n    name: PropTypes.string,\n    showModal: PropTypes.bool,\n    largeUrl: PropTypes.string,\n    currentPage: PropTypes.number,\n    isLoading: PropTypes.bool,\n    error: PropTypes.object,\n  };\n\n  state = {\n    img: [],\n    name: '',\n    showModal: false,\n    largeUrl: '',\n    currentPage: 1,\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.name !== this.state.name) {\n      this.fetchImg();\n    }\n  }\n\n  fetchImg = () => {\n    this.setState({\n      isLoading: true,\n    });\n\n    api\n      .fetchImages(this.state.name, this.state.currentPage)\n      .then(({ hits }) => {\n        const obj = hits.map((item) => {\n          return {\n            id: item.id,\n            url: item.webformatURL,\n            largeUrl: item.largeImageURL,\n          };\n        });\n        this.setState((prevState) => ({\n          img: [...prevState.img, ...obj],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch((error) => {\n        this.setState({ error });\n        toast.error('Oops ... Something went wrong ... try again');\n      })\n      .finally(() => {\n        if (this.state.currentPage > 2) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n        if (this.state.img.length === 0) {\n          toast.error('Enter the correct name');\n        }\n        this.setState({\n          isLoading: false,\n        });\n      });\n  };\n\n  onClickImg = (url) => {\n    this.setState({\n      largeUrl: url,\n    });\n    this.setState((state) => ({\n      showModal: !state.showModal,\n    }));\n  };\n\n  onSearchSubmit = (data) => {\n    this.setState({\n      name: data.name,\n      currentPage: 1,\n      img: [],\n    });\n  };\n\n  render() {\n    const shouldRenderLoadMore = this.state.img.length > 0;\n\n    return (\n      <>\n        {this.state.showModal && (\n          <Modal showModal={this.onClickImg}>\n            <img src={this.state.largeUrl} alt={this.state.name} />\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.onSearchSubmit} />\n        {this.state.error && <h1>Oops ... Something went wrong ... try again</h1>}\n\n        {this.state.name && (\n          <ImageGallery>\n            <ImageGalleryItem showModal={this.onClickImg} imgData={this.state.img} name={this.state.name} />\n          </ImageGallery>\n        )}\n\n        {shouldRenderLoadMore && (\n          <Button onClick={this.fetchImg}>\n            <Loader isLoading={this.state.isLoading} />\n          </Button>\n        )}\n        <ToastContainer position='top-center' autoClose={3000} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './main.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App className={App} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__B9VsB\",\"SearchForm\":\"Searchbar_SearchForm__2M72t\",\"SearchForm__button\":\"Searchbar_SearchForm__button__aNpn9\",\"SearchForm__btnlabel\":\"Searchbar_SearchForm__btnlabel__3Bv6q\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1ZqD_\"};"],"sourceRoot":""}